<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create New Company</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <link rel="stylesheet" href="../css/addcomp.css">
    <script type="text/javascript" src="../js/user.js"></script>
</head>
<body>

<div class="main">
    <div class="container-invoice">
        <form id="addPostForm" action="" method="post">
            <div id="company_title">
                <h1>User Page</h1>
            </div>

            <label for="name">Name</label><br>
            <input type="text" id="Name" name="name" class="name" size="50"><br>
            <span id="SpanCname" class="error"></span> <br>

            <label for="Address">Address</label><br>
            <input type="text" id="Address" name="address" class="address" size="50"><br>
            <span id="SpanAddress" class="error"></span> <br>

            <label for="City">City</label><br>
            <input type="text" id="City" name="city" class="city" size="50"><br>
            <span id="SpanCity" class="error"></span> <br>

            <label for="Email">Email</label><br>
            <input type="text" id="Email" name="email" class="email" size="50"><br>
            <span id="SpanEmail" class="error"></span> <br>

            <label for="Contact">Contact num</label><br>
            <input type="text" id="Contact" name="phone" class="phone" size="50"><br>
            <span id="SpanContact" class="error"></span><br>

            <input type="radio" id="admin" name="role" value="Admin">
            <label for="admin">Admin</label><br>
            <input type="radio" id="customer" name="role" value="Customer">
            <label for="customer">Customer</label><br>

            <button class="btn btn-outline-info" type="submit" id="submit" name="submit">Submit</button>
        </form>
    </div>
</div>
<script>
    let CommonName = localStorage.getItem("CommonName")
    var addPostForm=document.getElementById('addPostForm')
        addPostForm.addEventListener('submit',function (e){
        e.preventDefault()
        var name=document.getElementById('Name')
        var address=document.getElementById('Address')
        var email=document.getElementById('Email')
        var city=document.getElementById('City')
        var contact=document.getElementById('Contact')
        var selectedValue = document.querySelector('input[name="role"]:checked')
        console.log(name.value, address.value, email.value, city.value, contact.value, selectedValue.value)
            let myPost={
            name:name.value,
                address:address.value,
                email:email.value,
                city:city.value,
                contact:contact.value,
                admin_customer:selectedValue.value
            }
            fetch(CommonName + "userpost", {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(myPost)
            }).then(res => res.json()).then(() => {
                alert("Your information has been saved")
            }).catch(err=>console.log(err))
    })

</script>
</body>
</html>
